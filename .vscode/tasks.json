{
    "version": "2.0.0",
    "tasks": [
        {
            "osx": {
                "command": "bazel",
                "args": [
                    "build",
                    "--compilation_mode=dbg",
                    "--features=oso_prefix_is_pwd",
                    "--strip=never",
                    "//src/bin:train",
                ]
            },
            "linux": {
                "command": "bazel",
                "args": [
                    "build",
                    "--jobs",
                    "auto",
                    "--compilation_mode=dbg",
                    "--features=oso_prefix_is_pwd",
                    "--strip=never",
                    "--spawn_strategy=local",
                    "//src/bin:train",
                ]
            },
            "label": "build",
            "type": "shell",
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "command": "bazel",
            "args": [
                "run",
                "--compilation_mode=opt",
                "//src/bin:train",
                "--jobs",
                "auto",
                "--",
                "${workspaceFolder}/roms/breakout.bin",
                "${workspaceFolder}/logs/${input:runName}/tfevents.out.tfevents",
                "${workspaceFolder}/images/${input:runName}",
                "${input:runName}",
                "${workspaceFolder}/configs/${input:configName}.yaml"
            ],
            "label": "run",
            "type": "shell",
            "group": {
                "kind": "none",
                "isDefault": true
            },
            "problemMatcher": []
        }
    ],
    "inputs": [
        {
            "id": "runName",
            "description": "Enter the name for the run",
            "type": "promptString",
        },
        {
            "id": "configName",
            "description": "Enter the name for the config name",
            "type": "promptString",
            "default": "v0",
        }
    ]
}